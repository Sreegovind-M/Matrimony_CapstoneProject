<header class="navbar">
  <!-- LEFT: BRAND -->
  <div class="navbar__brand" (click)="navigateToHome()">
    <span class="material-symbols-outlined navbar__brand-icon">
      calendar_month
    </span>
    <span class="navbar__brand-text">Smart Event Planner</span>
    <span class="navbar__brand-text--mobile">SEP</span>
  </div>

  <!-- CENTER: LINKS (DESKTOP ONLY) -->
  <nav class="navbar__links" *ngIf="role === 'ORGANIZER'">
    <a class="navbar__link" routerLink="/organizer/dashboard" routerLinkActive="navbar__link--active"
      [routerLinkActiveOptions]="{ exact: true }">Dashboard</a>
    <a class="navbar__link" routerLink="/organizer/my-events" routerLinkActive="navbar__link--active"
      [routerLinkActiveOptions]="{ exact: true }">My Events</a>
    <a class="navbar__link" routerLink="/organizer/create-event" routerLinkActive="navbar__link--active">Create
      Event</a>
  </nav>

  <nav class="navbar__links" *ngIf="role === 'ATTENDEE'">
    <a class="navbar__link" routerLink="/events" routerLinkActive="navbar__link--active"
      [routerLinkActiveOptions]="{ exact: true }">Browse Events</a>
    <a class="navbar__link" routerLink="/my-bookings" routerLinkActive="navbar__link--active"
      [routerLinkActiveOptions]="{ exact: true }">My Bookings</a>
  </nav>

  <!-- RIGHT: ACTIONS -->
  <div class="navbar__actions">
    <button *ngIf="role === 'ORGANIZER'" type="button" class="navbar__create-button" (click)="navigateToCreateEvent()">
      <span class="material-symbols-outlined">add</span>
      Create Event
    </button>

    <span class="navbar__role-badge">
      {{ role === "ORGANIZER" ? "Organizer" : "Attendee" }}
    </span>

    <div class="navbar__avatar" [ngStyle]="{
           'background-image':
             role === 'ORGANIZER'
               ? 'url(assets/avatar-organizer.png)'
               : 'url(assets/avatar-attendee.png)'
         }" (click)="navigateToProfile()" title="View Profile" style="cursor: pointer;"></div>

    <button class="navbar__logout" (click)="logout()">
      <span class="material-symbols-outlined">logout</span>
    </button>

    <!-- MOBILE MENU BUTTON -->
    <button class="navbar__menu-button" (click)="toggleMobileMenu()">
      <span class="material-symbols-outlined">
        {{ isMobileMenuOpen ? "close" : "menu" }}
      </span>
    </button>
  </div>
</header>

<!-- MOBILE MENU PANEL -->
<div class="navbar__mobile-menu" *ngIf="isMobileMenuOpen">
  <ng-container *ngIf="role === 'ORGANIZER'">
    <a class="navbar__mobile-link navbar__mobile-link--primary" routerLink="/organizer/create-event"
      (click)="closeMobileMenu()">
      + Create Event
    </a>
    <a class="navbar__mobile-link" routerLink="/organizer/dashboard" (click)="closeMobileMenu()">Dashboard</a>
    <a class="navbar__mobile-link" routerLink="/organizer/my-events" (click)="closeMobileMenu()">My Events</a>
  </ng-container>

  <ng-container *ngIf="role === 'ATTENDEE'">
    <a class="navbar__mobile-link" routerLink="/events" (click)="closeMobileMenu()">Browse Events</a>
    <a class="navbar__mobile-link" routerLink="/my-bookings" (click)="closeMobileMenu()">My Bookings</a>
  </ng-container>
</div>